<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="facebook-domain-verification" content="izww706vitlsjbxq2ue1hxfgugjy92" />
    <title>GSUGAR ENTERTAINMENT</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="script" href="script.js">
    <link rel="icon" href="favicon.ico">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCbg4hzNgHuHLPPf-p81tOR9NokHUkJEYU",
            authDomain: "wav-page.firebaseapp.com",
            projectId: "wav-page",
            storageBucket: "wav-page.appspot.com",
            messagingSenderId: "177402832992",
            appId: "1:177402832992:web:f9e73201becffd901cfb05",
            measurementId: "G-7LRKNDFK7B"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Initialize Cloud Firestore and get a reference to the service
        const DB = firebase.firestore();

        var currentUrl = window.location.href;
        var id2_ready = currentUrl.substring(currentUrl.lastIndexOf('/') + 1);
        var id2 = id1_ready.substring(0, 10);
        console.log(id2)

        //이벤트 세부사항을 불러오는 함수
        async function openMediaContent() {
            event_detail = await DB.collection('event').doc(id2).get()
            
            document.getElementById('event_image_id').src = event_detail.data()['img_link'];
            document.getElementById('event_title_id').textContent = event_detail.data()['title'];
            document.getElementById('event_host').textContent = `주최 : ${event_detail.data()['host']}`;
            document.getElementById('event_period').textContent = event_detail.data()['period'];
            document.getElementById('event_reward').textContent = event_detail.data()['reward'];
            document.getElementById('event_method').innerHTML = event_detail.data()['method'];
            document.getElementById('event_alert').textContent = event_detail.data()['alert'];
            document.getElementById('extra_title').textContent = `${event_detail.data()['extra_title']}`;
            document.getElementById('extra_description').innerHTML = `${event_detail.data()['extra_description']}`;
            var extra_img = ""
            for (var i = 0; i < event_detail.data()['extra_img_link'].length; i++) {
                extra_img += `<img src="${event_detail.data()['extra_img_link'][i]}" class="extra_img">`
            }
            document.getElementById('extra_description_img').innerHTML = extra_img;
        }
        window.onload = openMediaContent()
    </script>
</head>
<body>
    <div id="var" style="display: flex; align-items: center; justify-content: center; position: relative;">
        <h1 style="position: absolute; left: 0;"><a href="../event" class="white">◁ </a></h1>
        <h1 class="logo-text white" style=" text-align: center;">EVENT 상세보기</h1>
    </div>
    
    <div id="store">
        <div id="event_tag">
            <div class="event_control" style="background-color: #f6f6f6;">
                <img id="event_image_id" class="event_image" src="../esset/error.png" alt="">
                <div style="margin-left: 8px;">
                    <h1 id="event_title_id" class="event_title">추석 기념 문화상품권 이벤트</h1>
                    <p id="event_host">주최 : GSUGAR Ent.</p>
                </div>
            </div>
            <div class="event_notice" style="background-color: #f6f6f6;">
                <div class="event_detail">
                    <h1 class="event_title" style="width: 170px; text-align: center;">응모 기간</h1>
                    <p id="event_period">2024년 9월 10일 ~ 2024년 10월 10일 23:50 PM</p>
                </div>
                <div class="event_detail">
                    <h1 class="event_title" style="width: 170px; text-align: center;">응모 방법</h1>
                    <p id="event_method">각설탕엔터테인먼트 굳즈 구입 및 컨텐츠 참여로 티켓 획득 후 네이버폼으로 응모할 티켓 개수 입력 (*수정 가능)<br>링크 준비 중</p>
                </div>
                <div class="event_detail">
                    <h1 class="event_title" style="width: 170px; text-align: center;">증정 상품</h1>
                    <p id="event_reward">문화상품권 100,000원 권</p>
                </div>
                <div class="event_detail">
                    <h1 class="event_title" style="width: 170px; text-align: center;">티켓 획득처</h1>
                    <p id="event_ticket">각설탕스토어 : gsugar-ent.netlify.app/store<br>(구매 후 인스타그램 @gsugar_entertainment로 인증샷 전송)</p>
                </div>
                <div class="event_detail">
                    <h1 class="event_title" style="width: 170px; text-align: center;">당첨자 발표</h1>
                    <p id="event_alert">2024년 10월 11일<br>(인스타그램 @gsugar_entertainment에서 발표)</p>
                </div>
                <div class="event_detail">
                    <h1 class="event_title" style="width: 170px; text-align: center;">문의</h1>
                    <p id="event_question">인스타그램 @gsugar_entertainment DM을 통해 궁금한 내용 혹은 피드백을 주시면 감사하겠습니다!</p>
                </div>
            </div>
            <div class="event_notice" style="background-color: #f6f6f6;">
                <h1 class="event_title" style="width: 100%; text-align: center;">세부사항</h1>
                <h3 id="extra_title"></h3>
                <p id="extra_description" style="margin-top: -10px;"></p>
                <div id="extra_description_img"></div>
            </div>
        </div>
    </div>
    <!-- Career Section -->
    <div id="capyright">
        <p class="white">© GSUGAR ENTERTAINMENT</p>
    </div>
</body>
</html>